(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{386:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue"}},[s._v("#")]),s._v(" vue")]),s._v(" "),a("ul",[a("li",[s._v("使用Rollup搭建开发环境\n"),a("ul",[a("li",[s._v("什么是Rollup?")]),s._v(" "),a("li",[s._v("环境搭建")])])]),s._v(" "),a("li",[s._v("Vue响应式原理\n"),a("ul",[a("li",[s._v("初始化数据")]),s._v(" "),a("li",[s._v("递归属性劫持")]),s._v(" "),a("li",[s._v("数组方法的劫持")]),s._v(" "),a("li",[s._v("数据代理")])])]),s._v(" "),a("li",[s._v("模板编译\n"),a("ul",[a("li",[s._v("解析标签和内容")]),s._v(" "),a("li",[s._v("生成ast语法树")]),s._v(" "),a("li",[s._v("生成代码")]),s._v(" "),a("li",[s._v("生成render函数")])])]),s._v(" "),a("li",[s._v("创建渲染watcher\n"),a("ul",[a("li",[s._v("初始化渲染Watcher")]),s._v(" "),a("li",[s._v("生成虚拟dom")]),s._v(" "),a("li",[s._v("生成真实DOM元素")])])]),s._v(" "),a("li",[s._v("生命周期的合并\n"),a("ul",[a("li",[s._v("Mixin原理")]),s._v(" "),a("li",[s._v("合并生命周期")]),s._v(" "),a("li",[s._v("调用声明周期")]),s._v(" "),a("li",[s._v("初始化流程中调用声明周期")])])]),s._v(" "),a("li",[s._v("依赖收集\n"),a("ul",[a("li",[s._v("在渲染时存储watcher")]),s._v(" "),a("li",[s._v("对象依赖收集")]),s._v(" "),a("li",[s._v("数组的依赖收集")])])]),s._v(" "),a("li",[s._v("实现Vue异步更新之nextTick\n"),a("ul",[a("li",[s._v("实现队列机制")]),s._v(" "),a("li",[s._v("nextTick实现原理")])])])]),s._v(" "),a("h2",{attrs:{id:"使用rollup搭建开发环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用rollup搭建开发环境"}},[s._v("#")]),s._v(" 使用Rollup搭建开发环境")]),s._v(" "),a("h3",{attrs:{id:"什么是rollup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是rollup"}},[s._v("#")]),s._v(" 什么是Rollup?")]),s._v(" "),a("p",[s._v("Rollup 是一个 JavaScript 模块打包器，可以将小块代码编译成大块复杂的代码，rollup.js更专注于Javascript类库打包（开发应用时使用Webpack，开发库时使用Rollup）")]),s._v(" "),a("h3",{attrs:{id:"环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[s._v("#")]),s._v(" 环境搭建")]),s._v(" "),a("p",[s._v("初始化项目"),a("code",[s._v("npm init -y")])]),s._v(" "),a("p",[s._v("安装rollup环境")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install rollup rollup-plugin-babel @babel/core @babel/preset-env rollup-plugin-serve cross-env -D\n")])])]),a("ul",[a("li",[s._v("rollup-plugin-babel，rollup与babel的桥梁")]),s._v(" "),a("li",[s._v("@babel/core，babel核心模块")]),s._v(" "),a("li",[s._v("@babel/preset-env，预设，babel插件集合，将高级语法转成低级语法")]),s._v(" "),a("li",[s._v("rollup-plugin-serve ，启动本地服务，实现静态服务")]),s._v(" "),a("li",[s._v("cross-env，设置环境变量")])]),s._v(" "),a("p",[s._v("rollup.config.js编写")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" babel "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rollup-plugin-babel'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" serve "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rollup-plugin-serve'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    input"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包入口")]),s._v("\n    output"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist/umd/vue.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 出口路径")]),s._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定打包后全局变量的名字")]),s._v("\n        format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'umd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 统一模块化规范 模块化的类型 esModule commonjs模块")]),s._v("\n        sourcemap"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// es6 -> es5 开启源码调试 可以找到源代码的报错位置")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("babel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules/**'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ENV")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("serve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打开的浏览器，端口是3000端口")]),s._v("\n            contentBase"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ''表示当前目录")]),s._v("\n            openPage"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/index.html'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 默认打开html的路径")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("配置babel，.babelrc")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@babel/preset-env"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("配置启动脚本，package.json")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build:dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup -c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// -c 使用配置文件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"serve"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env ENV=development rollup -c -w"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// -w监听代码变化自动打包")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),a("p",[s._v("创建一个空Vue，src/index.js")]),s._v(" "),a("div",{staticClass:"language-index.js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function Vue(options){\n    console.log(options)\n}\nexport default Vue\n")])])]),a("h2",{attrs:{id:"vue响应式原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue响应式原理"}},[s._v("#")]),s._v(" Vue响应式原理")]),s._v(" "),a("h3",{attrs:{id:"初始化数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化数据"}},[s._v("#")]),s._v(" 初始化数据")])])}),[],!1,null,null,null);t.default=e.exports}}]);